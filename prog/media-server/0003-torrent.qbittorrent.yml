---
version: "1"
services:
  qbittorrent:
    container_name: ms-qbittorrent
    depends_on:
      - caddy
    environment:
      PUID: $PUID
      PGID: $PGID
      TZ: Europe/London
      WEBUI_PORT: 8756
      # These are referenced in the watcher.json coniguration.
      XDG_DOWNLOAD_DIR: /downloads
      XDG_MEDIA_HOME: /media
    image: lscr.io/linuxserver/qbittorrent:latest
    profiles:
      - test
    volumes:
      - $XDG_CONFIG_HOME/media-server/qbittorrent:/config
      # We mount XDG downloads separate from media downloads. This way if I
      # need to download anything through tor that's unrelated to my media
      # server I can do so in my regular downloads directory.
      - $XDG_DOWNLOAD_DIR:/downloads
      - $XDG_MEDIA_HOME/downloads:/media/downloads
