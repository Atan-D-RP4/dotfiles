ec_cmd() {
    # echo the valid emacsclient command for OSTYPE.
    local flags= s_file="${EMACS_SERVER_FILE}"

    case "$OSTYPE" in
        cygwin*|msys*|win32*) ;;
        *) flags='--socket-name '"$s_file"
           # windows doesn't support --socket-name
           ;;
    esac

    echo emacsclient $flags --server-file "$s_file";
}

